<!doctype html>
<html lang="en" dir="ltr" data-theme="dark">
  <head>
   <meta charset="utf-8" />
     <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <title>BashaLanka — Learn Sinhala</title>

    <!-- App identity -->
    <meta name="description" content="BashaLanka — learn Sinhala with quick, game-like lessons." />
    <link rel="icon" href="./assets/PNG/tab_icon.png" />
    <link rel="apple-touch-icon" href="./assets/PNG/tab_icon.png" />
    <link rel="manifest" href="./manifest.webmanifest" />

    <!-- Fonts (system stack for speed; swap later if desired) -->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap"
      rel="stylesheet"
    />

    <!-- Styles -->
    <link rel="stylesheet" href="./styles.css" />
    <!-- Include fixed sidebar overrides -->
    <link rel="stylesheet" href="./sidebar-fixed.override.css" />
    <link rel="stylesheet" href="./styles.learn.css" />

    <!-- PWA / Theming -->
    <meta name="theme-color" content="#0f1720" />

    <!-- Fonts: local WOFF2 with preloads -->
    <link rel="preload" href="./assets/fonts/Feather-Bold.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="./assets/fonts/DINNextRounded-Regular.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="./assets/fonts/DINNextRounded-Medium.woff2" as="font" type="font/woff2" crossorigin>
  </head>

  <body>
  <!-- Topbar -->
  <header class="topbar" role="banner">
    <button class="icon-btn" aria-label="Menu" aria-expanded="false" data-action="toggle-sidebar" aria-controls="sidebar">☰</button>
    <div class="topbar__spacer"></div>
    <button id="themeToggle" class="icon-btn" title="Toggle theme">🌓</button>
  </header>

  <div class="layout">
    <!-- Sidebar -->
    <aside id="sidebar" class="sidebar" aria-label="Main">
      <a class="brand" href="#/home">
        <picture>
          <source srcset="./assets/SVG/Bashalinka_top_left.svg" type="image/svg+xml" />
          <img class="brand__logo" src="./assets/PNG/Bashalinka_top_left.png" alt="BashaLanka home" loading="lazy" decoding="async" />
        </picture>
        <span class="brand__name">BashaLanka</span>
      </a>

       <nav class="side-nav" role="navigation">
        <button class="sidebar__link" data-route="learn">
          <span aria-hidden="true">🏠</span><span>Learn</span>
        </button>
        <button class="sidebar__link" data-route="characters">
          <span aria-hidden="true">ම</span><span>Characters</span>
        </button>
        <button class="sidebar__link" data-route="practice">
          <span aria-hidden="true">🧩</span><span>Practice</span>
        </button>
        <button class="sidebar__link" data-route="quests">
          <span aria-hidden="true">🗺️</span><span>Quests</span>
        </button>
        <button class="sidebar__link" data-route="profile">
          <span aria-hidden="true">👤</span><span>Profile</span>
        </button>
        <button class="sidebar__link" data-route="settings">
          <span aria-hidden="true">⚙️</span><span>Settings</span>
        </button>
      </nav>
    </aside>


    <!-- Main content area -->
    <main id="app" class="main" role="main">
    
    <!-- LEARN -->
    <section id="view-learn" class="view" hidden></section>

    <!-- CHARACTERS -->
    <section id="view-characters" class="view" hidden aria-labelledby="characters-title">
      <h1 id="characters-title" class="section-title">Characters</h1>
      <p class="muted">Learn Sinhala script step by step.</p>
      <div id="charGrid" class="card-grid"></div>
    </section>

    <!-- PRACTICE -->
    <section id="view-practice" class="view" hidden aria-labelledby="practice-title">
      <h1 id="practice-title" class="section-title">Practice</h1>
      <div class="card">Custom practice sessions coming soon.</div>
    </section>

    <!-- QUESTS -->
    <section id="view-quests" class="view" hidden aria-labelledby="quests-title">
      <h1 id="quests-title" class="section-title">Quests</h1>
      <div id="questsList" class="card-list"></div>
    </section>

    <!-- PROFILE -->
    <section id="view-profile" class="view" hidden aria-labelledby="profile-title">
      <h1 id="profile-title" class="section-title">Profile</h1>
      <div id="profileContent" class="profile-content" aria-live="polite"></div>
    </section>

    <!-- SETTINGS -->
    <section id="view-settings" class="view" hidden aria-labelledby="settings-title">
      <h1 id="settings-title" class="section-title">Settings</h1>

      <form id="settingsForm" class="prefs">
  <fieldset>
          <legend>Preferences</legend>
          <label class="toggle"><input type="checkbox" name="sfx"> <span>Sound effects</span></label>
          <label class="toggle"><input type="checkbox" name="anim"> <span>Animations</span></label>
          <label class="toggle"><input type="checkbox" name="motivate"> <span>Motivational messages</span></label>
          <label class="toggle"><input type="checkbox" name="listen"> <span>Listening exercises</span></label>
        </fieldset>

        <fieldset>
          <legend>Appearance</legend>
          <div class="radio-row">
            <label><input type="radio" name="appearance" value="system"> System Default</label>
            <label><input type="radio" name="appearance" value="dark"> Dark</label>
            <label><input type="radio" name="appearance" value="light"> Light</label>
          </div>
        </fieldset>

        <fieldset>
          <legend>Sinhala (example)</legend>
          <label class="toggle"><input type="checkbox" name="romanized"> <span>Show pronunciation (Romanized)</span></label>
        </fieldset>

        <button class="btn btn--primary" type="submit">Save</button>
      </form>
    </section>
    </main>
  </div>
  <div id="drawerScrim" class="scrim" hidden></div>

    
    <script src="./design-mode.js" defer></script>
    <script src="./app.js" defer></script>
    <script src="./app.learn.js" defer></script>
  </body>
</html>