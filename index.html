<!doctype html>
<html lang="en" dir="ltr" data-theme="dark">
  <head>
   <meta charset="utf-8" />
     <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <title>BashaLanka ‚Äî Learn Sinhala</title>

    <!-- App identity -->
    <meta name="description" content="BashaLanka ‚Äî learn Sinhala with quick, game-like lessons." />
    <link rel="icon" href="./assets/PNG/tab_icon.png" />
    <link rel="apple-touch-icon" href="./assets/PNG/tab_icon.png" />
    <link rel="manifest" href="./manifest.webmanifest" />

    <!-- Fonts (system stack for speed; swap later if desired) -->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap"
      rel="stylesheet"
    />

    <!-- Styles -->
    <link rel="stylesheet" href="./styles.css" />
    <!-- Include fixed sidebar overrides -->
    <link rel="stylesheet" href="./sidebar-fixed.override.css" />
    <link rel="stylesheet" href="./styles.learn.css" />

    <!-- PWA / Theming -->
    <meta name="theme-color" content="#0f1720" />

    <!-- Fonts: local WOFF2 with preloads -->
    <link rel="preload" href="./assets/fonts/Feather-Bold.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="./assets/fonts/DINNextRounded-Regular.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="./assets/fonts/DINNextRounded-Medium.woff2" as="font" type="font/woff2" crossorigin>
  </head>

  <body>
  <!-- Topbar -->
  <header class="topbar" role="banner">
    <button class="icon-btn" aria-label="Menu" aria-expanded="false" data-action="toggle-sidebar" aria-controls="sidebar">‚ò∞</button>
    <div class="topbar__spacer"></div>
    <button id="themeToggle" class="icon-btn" title="Toggle theme">üåì</button>
  </header>

  <div class="layout">
    <!-- Sidebar -->
    <aside id="sidebar" class="sidebar" aria-label="Main">
      <a class="brand" href="#/home">
        <picture>
          <source srcset="./assets/SVG/Bashalinka_top_left.svg" type="image/svg+xml" />
          <img class="brand__logo" src="./assets/PNG/Bashalinka_top_left.png" alt="BashaLanka home" loading="lazy" decoding="async" />
        </picture>
        <span class="brand__name">BashaLanka</span>
      </a>

       <nav class="side-nav" role="navigation">
        <button class="sidebar__link" data-route="learn">
          <span aria-hidden="true">üè†</span><span>Learn</span>
        </button>
        <button class="sidebar__link" data-route="characters">
          <span aria-hidden="true">‡∂∏</span><span>Characters</span>
        </button>
        <button class="sidebar__link" data-route="practice">
          <span aria-hidden="true">üß©</span><span>Practice</span>
        </button>
        <button class="sidebar__link" data-route="quests">
          <span aria-hidden="true">üó∫Ô∏è</span><span>Quests</span>
        </button>
        <button class="sidebar__link" data-route="profile">
          <span aria-hidden="true">üë§</span><span>Profile</span>
        </button>
        <button class="sidebar__link" data-route="settings">
          <span aria-hidden="true">‚öôÔ∏è</span><span>Settings</span>
        </button>
      </nav>
    </aside>


    <!-- Main content area -->
    <main id="app" class="main" role="main">
    
    <!-- LEARN -->
    <section id="view-learn" class="view" hidden></section>

    <!-- CHARACTERS -->
    <section id="view-characters" class="view" hidden aria-labelledby="characters-title">
      <h1 id="characters-title" class="section-title">Characters</h1>
      <p class="muted">Learn Sinhala script step by step.</p>
      <div id="charGrid" class="card-grid"></div>
    </section>

    <!-- PRACTICE -->
    <section id="view-practice" class="view" hidden aria-labelledby="practice-title">
      <h1 id="practice-title" class="section-title">Practice</h1>
      <div class="card">Custom practice sessions coming soon.</div>
    </section>

    <!-- QUESTS -->
    <section id="view-quests" class="view" hidden aria-labelledby="quests-title">
      <h1 id="quests-title" class="section-title">Quests</h1>
      <div id="questsList" class="card-list"></div>
    </section>

    <!-- PROFILE -->
    <section id="view-profile" class="view" hidden aria-labelledby="profile-title">
      <h1 id="profile-title" class="section-title">Profile</h1>
      <div id="profileContent" class="profile-content" aria-live="polite"></div>
    </section>

    <!-- SETTINGS -->
    <section id="view-settings" class="view" hidden aria-labelledby="settings-title">
      <h1 id="settings-title" class="section-title">Settings</h1>

      <form id="settingsForm" class="prefs">
  <fieldset>
          <legend>Preferences</legend>
          <label class="toggle"><input type="checkbox" name="sfx"> <span>Sound effects</span></label>
          <label class="toggle"><input type="checkbox" name="anim"> <span>Animations</span></label>
          <label class="toggle"><input type="checkbox" name="motivate"> <span>Motivational messages</span></label>
          <label class="toggle"><input type="checkbox" name="listen"> <span>Listening exercises</span></label>
        </fieldset>

        <fieldset>
          <legend>Appearance</legend>
          <div class="radio-row">
            <label><input type="radio" name="appearance" value="system"> System Default</label>
            <label><input type="radio" name="appearance" value="dark"> Dark</label>
            <label><input type="radio" name="appearance" value="light"> Light</label>
          </div>
        </fieldset>

        <fieldset>
          <legend>Sinhala (example)</legend>
          <label class="toggle"><input type="checkbox" name="romanized"> <span>Show pronunciation (Romanized)</span></label>
        </fieldset>

        <button class="btn btn--primary" type="submit">Save</button>
      </form>
    </section>
    </main>
  </div>
  <div id="drawerScrim" class="scrim" hidden></div>

    <script id="sections-overview-data" type="application/json">
      {
        "1": {
          "tagline": "Start with essential phrases and simple grammar concepts",
          "summary": "Focus on must-know phrases, SOV word order, and subject omission.",
          "helpfulHints": [
            "Sinhala often drops \u201cam/is/are\u201d in simple present.",
            "The question marker \u201cda\u201d (‡∂Ø) turns a statement into a question.",
            "Use \u201c-g\u00e9\u201d (\u0d9c\u0dd9) for possession with people and animals."
          ],
          "grammarConcepts": [
            {
              "title": "Word order (Sinhala)",
              "explanation": "Verb typically comes at the end; \u201cis/are/am\u201d may be implied.",
              "examples": [
                { "l1": "\u0db8\u0db8 \u0dc4\u0ddc\u0dab\u0dd2\u0db1\u0dca \u0d89\u0db1\u0dca\u0db1\u0dc0\u0dcf. \u2014 mama hondin innav\u0101.", "gloss": "I (am) fine." },
                { "l1": "\u0d94\u0dbb \u0d9a\u0dad\u0dcf \u0d9a\u0dbb\u0db1\u0dc0\u0dcf. \u2014 oy\u0101 kath\u0101 karanav\u0101.", "gloss": "You speak / are speaking." }
              ]
            },
            {
              "title": "Possession with \u201c-g\u00e9\u201d",
              "explanation": "Attach \u201c-g\u00e9\u201d to people/animals for possession.",
              "examples": [
                { "l1": "\u0d94\u0dbb\u0dcf\u0d9c\u0dd9 \u0db1\u0db8 \u0db8\u0ddc\u0d9a\u0dd0\u0d9a\u0dca\u0da9? \u2014 oy\u0101g\u00e9 nama mokakda?", "gloss": "Your name, what? \u2192 What\u2019s your name?" },
                { "l1": "\u0db8\u0d9c\u0dd9 \u0dbb\u0da7 \u0dc1\u0dca\u200d\u0dbb\u0dd3 \u0dbd\u0d82\u0d9a\u0dcf\u0dc0. \u2014 mag\u00e9 ra·π≠a \u015ar\u012b Lank\u0101va.", "gloss": "My country, Sri Lanka." }
              ]
            }
          ],
          "cta": {
            "text": "Start Section 1",
            "href": "#/section/1"
          }
        },
        "2": {
          "tagline": "Build everyday conversation stamina",
          "summary": "Practice polite requests, introduce friends, and follow polite particles for smoother chats.",
          "helpfulHints": [
            "Add \u201cplii\u201d for gentle requests when speaking casually.",
            "Honorific \u201coyaal\u00e1\u201d works for groups or formal situations.",
            "Sentence particles often soften tone\u2014listen for them in native speech."
          ],
          "grammarConcepts": [
            {
              "title": "Polite requests",
              "explanation": "Use \u201ckaranna puluwanda\u201d to ask if someone can do something politely.",
              "examples": [
                { "l1": "oba ka\u1e7fa\u00b7ranna puluwanda?", "gloss": "Can you please do it?" },
                { "l1": "ma\u00b7t\u0115 di\u0115nna puluwanda?", "gloss": "Could you give it to me?" }
              ]
            },
            {
              "title": "Introducing others",
              "explanation": "Link names with \u201coyaala\u201d and verbs like \u201cmeet\u201d for formal introductions.",
              "examples": [
                { "l1": "meyaa mage yaaluwaa.", "gloss": "This is my friend." },
                { "l1": "meka oyaala hambennaa.", "gloss": "This is where you all meet." }
              ]
            }
          ],
          "cta": {
            "text": "Continue Section 2",
            "href": "#/section/2"
          }
        },
        "3": {
          "tagline": "Travel and directions with confidence",
          "summary": "Learn how to ask for locations, talk about transport, and use locative suffixes.",
          "helpfulHints": [
            "Add \u201c-ko\u201d to nouns to mean \u201cwhere is...?\u201d.",
            "Use direction pairs like \u201cyatin/pit\u0115n\u201d (inside/outside).",
            "Bus conductors appreciate short, clear sentences with place names first."
          ],
          "grammarConcepts": [
            {
              "title": "Locative suffixes",
              "explanation": "Attach \u201ci\u201d or \u201ce\u201d endings to show location or direction.",
              "examples": [
                { "l1": "kol\u1e87mb\u1e87\u0115 dii?", "gloss": "At Colombo where?" },
                { "l1": "bus\u0115 ka\u1e7fa iguruwala-ta yanaw\u00e1.", "gloss": "The bus is going to Gampaha." }
              ]
            },
            {
              "title": "Giving directions",
              "explanation": "Combine verbs like \u201cyanna\u201d (go) with direction words to steer listeners.",
              "examples": [
                { "l1": "dekak idaata yanna.", "gloss": "Go two spaces forward." },
                { "l1": "dakku\u1e7da pit\u0115n innawa.", "gloss": "It is outside on the right." }
              ]
            }
          ],
          "cta": {
            "text": "Preview Section 3",
            "href": "#/section/3"
          }
        }
      }
    </script>
    <script src="./design-mode.js" defer></script>
    <script src="./app.js" defer></script>
    <script src="./app.learn.js" defer></script>
  </body>
</html>
